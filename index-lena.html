<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>NetVis</title>
    <link rel="icon" href="netvisicon.png">

    <link href="https://www.seekmedi.com/wp-content/themes/zerif-lite/css/bootstrap.css?ver=4.7.4" rel="stylesheet">
    <link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet">
    <link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet">

    <link rel="stylesheet" href="jslib/foundation-6.4.1-complete/css/foundation.css">
    <link rel="stylesheet" href="jslib/foundation-6.4.1-complete/css/app.css">
    <link rel="stylesheet" href="jslib/vis-4.20.1/dist/vis-network.min.css" type="text/css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.min.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.15/css/dataTables.foundation.min.css" type="text/css" />

    <script src="jslib/foundation-6.4.1-complete/js/vendor/jquery.js"></script>
    <script src="jslib/foundation-6.4.1-complete/js/vendor/what-input.js"></script>
    <script src="jslib/foundation-6.4.1-complete/js/vendor/foundation.js"></script>
    <script src="jslib/foundation-6.4.1-complete/js/app.js"></script>
    <script src="jslib/vis-4.20.1/dist/vis.js" type="text/javascript" ></script>

    <!--ipt src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script -->
         
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>    
    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>     
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.foundation.min.js"></script>

    <style type="text/css">
        body {
          //background-color: #378DB2;
        }
        #twitter_network {
          width: 100%;
          height: 900px;
          border: 1px solid lightgray;
        }

        .full-width {
          width: 98%;
          max-width: 98%;
        }

        .grid-padding-x {
          padding-left: 2px;
          padding-right: 2px;
        }

        .div-border {
          border: 0px solid black;
          background-color: #C7FFFF;
            padding: 10px;
        }

        .round-corner {
          border-radius: 25px;
        }

        #title {
          height: 80px;
          background: #C7FFFF; /* For browsers that do not support gradients */
          background: linear-gradient(#C7FFFF, #378DB2); /* Standard syntax (must be last) */
          background-color: #C7FFFF;
          text-align: center;
          color: #162C52;
        }

        .sidebutton {
          display: block;
          width: 250px;
          height: 50px;
        }

        .toolbar_id_table {
          float: left;
        }


        .toolbar_tag_table {
          float: left;
        }

    </style>
  </head>

<body>


    <header>
    <h1 id="title">Twitter Network Visualisation</h1>
    </header>
    <div class="container.fluid  grid-padding-x">
      <div class="grid-x grid-padding-x"  >
        <!-- network row -->
        <div class="large-8 medium-8 cell div-border">
          <div class="grid-x grid-padding-x"  >
            <div class="large-1 medium-1 cell">
                <div class="sidebutton"><button name="add" class="btn btn-primary" onclick="add_network_handler()">Add</button></div>
                <div class="sidebutton"><button name="clear" class="btn btn-primary" onclick="clear_network_handler()">Clear</button></div>
                <div class="sidebutton"><button name="print" class="btn btn-primary" onclick="reset_color_for_all_selected_nodes_and_tds()">Reset Color</button></div> 
                <div class="sidebutton" style="display:none"><button name="print" class="btn btn-primary" onclick="print_data_handler()">Print</button></div> 
            </div>        
            
            <div class="large-11 medium-11 cell">
              <div id="twitter_network" class="primary callout round-corner"> 
              </div>
            </div>
          </div>
        </div>

        <!-- Table row -->
        <div class="large-4 medium-4 cell div-border">
          <div class="primary callout round-corner"> 
            <table id="id_table" class="display" width="100%" onclick="select_id_table(event)"></table>
          </div>

          <div class="primary callout round-corner">           
            <table id="tag_table" class="display" width="100%" onclick="select_tag_table(event)"></table>
          </div>
        </div>        
      </div>

      <!-- Text area row for debugging messages -->
      <!--div class="grid-x grid-padding-x"  >
        <div class="large-6 medium-6 cell div-border">
          <div class="primary callout"> 
            <textarea id="demo-callback" rows="10">
            </textarea>
          </div>
        </div>

        <div class="large-6  medium-6 cell div-border">
          <div class="primary callout"> 
            <svg width="100%" height="300px">
              <circle cx="50" cy="50" r="40"
                stroke="green" stroke-width="4" fill="yellow" />
                Sorry, your browser does not support inline SVG.
            </svg>              
          </div>
        </div>
        <div class="large-6 medium-6 cell div-border">
          <div class="primary callout">           
            <h1>This is fetched using promises.</h1>
            <div id="demo-promise">
            </div>
          </div>
        </div>
      </div -->

      <!-- SVG, Canvas row -->
      <!--div class="grid-x grid-padding-x">
        <div class="large-6  medium-6 cell div-border">
          <div class="primary callout"> 
            <svg width="100" height="100">
              <circle cx="50" cy="50" r="40"
                stroke="green" stroke-width="4" fill="yellow" />
                Sorry, your browser does not support inline SVG.
            </svg>              
          </div>
        </div>
        <div class="large-6 medium-6 cell div-border">
          <div class="primary callout">         
            second box
            <canvas id="myCanvas" width="200" height="100" style="border:1px solid #d3d3d3;">
            Your browser does not support the HTML5 canvas tag.</canvas>

            <script>
              var c = document.getElementById("myCanvas");
              var ctx = c.getContext("2d");
              ctx.beginPath();
              ctx.arc(95,50,40,0,2*Math.PI);
              ctx.stroke();
            </script>       
          </div>
        </div>
      </div -->   

    </div>

    <script src="event_handlers.js"></script>

<script type="text/javascript">

    /* Variable Declarations */
    let sample_data_network = { id_list: [], following_list: [] };
    let global_nodes = new vis.DataSet();
    let global_edges = new vis.DataSet();

    const NODE_COLOUR                         = '#EAE7E4';
    const SELECTED_NODE_FOR_FOLLOWING_COLOUR  = '#33BBAA';
    const SELECTED_NODE_FOR_FOLLOWER_COLOUR   = '#33AF00';
    const SELECTED_NODE_COLOUR                = '#33AFAA';
    const TAGGED_NODE_COLOUR                  = '#FFAFAA';
    const FOLLOWING_NODE_COLOUR               = '#E8C7BE';
    const FOLLOWER_NODE_COLOUR                = '#770000';
    const EDGE_COLOUR                         = '#9193FF';

    /*
     * Create network using Vis.js
     */
    container = document.getElementById('twitter_network');
    data = { 
        nodes: global_nodes,
        edges: global_edges
    };
    
    let options = {
        //autoResize: false,
        //width: '100%', 
        //height: '100%',     
        nodes: {
            color: { 
                background: NODE_COLOUR,
                highlight: { 
                    background: SELECTED_NODE_COLOUR,
                    border: '4px'  
                }
            },
            // borderWidth:4,
            //size:30,
            // font:{ color:'#eeeeee' }
        },
        edges: {
            color: EDGE_COLOUR
        }
    };
    network = new vis.Network(container, data, options);

    /*
     * Define the onclick node event handler
     */

    click_node_handler();

    $('#id_table').DataTable( {
        data: [],
        columns: [
                    { title: "Id" },
                    { title: "Following Ids" },
                    { title: "Tags" }
                ],
        destroy: true,
        scrollY: "300px",
        //scrollCollapse: true,
        paging:         false,

        "dom": '<"toolbar_id_table">frtip'
    } );

    $("div.toolbar_id_table").html('<b>Id Table</b>');

    $('#tag_table').DataTable( {
          data: [],
          columns: [
                    { title: "Tag" },
                    { title: "Frequency" },
                    { title: "Referred Ids" },
                ],
          destroy: true,
          scrollY: "300px",
          //scrollCollapse: true,
          paging:         false,

          "dom": '<"toolbar_tag_table">frtip'
        } );

        $("div.toolbar_tag_table").html('<b>Tag Table</b>');        

    </script>

    <script src="store.js"></script>       
    <script src="helpers.js"></script>   

    
  </body>
</html>
